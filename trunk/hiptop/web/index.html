<html>
<head><title>hiptop development stuff</title></head>
<body>

<div style="width: 100%;" align=center>

<div style="width: 40em; padding: 5px; text-align: left; background: #e0e0e0;">
<h3> Brian's Hiptop Software </h3>
Here are some small Hiptop applications I've been working on when
time permits.  Visit <a href="http://developer.danger.com/">developer.danger.com</a> to obtain the hiptop SDK and all sorts of useful information
about developing for the device.
</div>

<p>
<div style="width: 40em; padding: 5px; text-align: left; background: #e0e0e0;">
<h3> Z Machine (Infocom Runtime)</h3>
This is an implementation of the 
<a href="http://www.inform-fiction.org/zmachine/index.html">Z Machine</a>, 
the virtual machine that Infocom designed to
run their (now classic) text adventure games (Zork, Enchanter, etc).
You need a story file (either an original Infocom one or one of the
many that have been written since the virtual machine was reverse
engineered) in addition to this runtime.  V3 games are playable, 
but there may well be bugs.  The V5 support is not tested
terribly well (curses.z5 seems playable) and is incomplete.
<p>
<img src="zmachine1.png">
<img src="zmachine2.png">
<p>
This was the result of about two weekends of hacking and some assorted
tinkering here and there.  It's not the most beautiful code in the world,
but it demonstrates a bunch of useful stuff.  For example:  handling
multiple windows, saving data that gets archived on the service, doing
work in another thread, loading raw data from resources, creating
windows and dialogs from resources.  You can browse the
<a href="../zmachine">source code</a>.
<ul>
<li> hiptop application
<ul>
<li> <a href="../zmachine/ZRuntime.java">ZRuntime.java</a> - the application
<li> <a href="../zmachine/ZWindow.java">ZWindow.java</a> - the main window
<li> <a href="../zmachine/ZDanger.java">ZDanger.java</a> - glue between the app and the virtual machine
<li> <a href="../zmachine/Resources.java">Resources.java</a> - resource IDs
<li> <a href="../zmachine/Events.java">Events.java</a> - event IDs
<li> <a href="../zmachine/zmachine.rsrc">zmachine.rsrc</a> - application resources 
</ul>
<li> virtual machine (platform agnostic)
<ul>
<li> <a href="../zmachine/ZMachine.java">ZMachine.java</a> - the virtual machine
<li> <a href="../zmachine/ZScreen.java">ZScreen.java</a> - the interface between the vm and an app
</ul>
</ul>
</div>

<p>
<div style="width: 40em; padding: 5px; text-align: left; background: #e0e0e0;">
<h3> Japanese Input Method </h3>
Very much a work in progress.  Only works on the device (due to lack
of fonts in the simulator).  
<p>
Browse the <a href="../jp_im">source code</a>.
</div>

<p>
<div style="width: 40em; padding: 5px; text-align: left; background: #e0e0e0;">
<h3> Japanese Dictionary (based on 
<a href="http://www.csse.monash.edu.au/~jwb/edict.html">edict</a> data) </h3>
Not quite as rough around the edges as the Input Method, but also
only works correctly on the device.  
<p>
<img src="dictionary.png">
<p>
Browse the <a href="../dictionary">source code</a>.
</div>

<p>
<div style="width: 40em; padding: 5px; text-align: left; background: #e0e0e0;">
<h3> RPN Calculator </h3>
Everyone should write a calculator for the hiptop.  <br>
This one is based on the handy
hipfloat library that Dan Sachs wrote.
<p>
<img src="calc.png">
<p>
Browse the <a href="../rpn">source code</a>
</div>

<p>
<div style="width: 40em; padding: 5px; text-align: left; background: #e0e0e0;">
<h3> <a href="../">Downloadable Source Code</a> </h3>
You can find complete archives of all the above apps here.
</div>

<p>
<div style="width: 40em; padding: 5px; text-align: left; background: #e0e0e0;">
<h3> makefile </h3>

Being a grouchy UNIX user, I much prefer Makefiles to this new-fangled
ANT stuff.  If you drop <a href="../hiptop.mk">hiptop.mk</a> in your 
project directory, you can create a makefile like:
<pre>
APPNAME := zmachine
INTERFACES := Resources.java Events.java
BUNDLENAME := net.frotz.zmachine

include hiptop.mk
</pre>

The INTERFACES definition must list any files that are generated by
drc (the stuff listed in your interface and events directives).
APPNAME is used to decide what to name your .bndl file and such.
<p>
You can specify "SCREEN := color" or "SCREEN := gray".
<p>
You should set SDKHOME to be the path to the hiptop sdk (the
directory that contains libs, tools, etc).
<p>
You should be able to build your app (on Linux at least) using make.
<tt>make run</tt> to start up the simulator after building...
</div>

</div>
</body>
</html>
